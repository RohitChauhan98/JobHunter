(()=>{var e={};e.id=893,e.ids=[893],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5248:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(9746),t(2834),t(8553),t(5866);var s=t(3191),r=t(8716),l=t(7922),n=t.n(l),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(a,o);let d=["",{children:["dashboard",{children:["applications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9746)),"/home/rohit/code/JobHunter/web/src/app/dashboard/applications/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2834)),"/home/rohit/code/JobHunter/web/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8553)),"/home/rohit/code/JobHunter/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/rohit/code/JobHunter/web/src/app/dashboard/applications/page.tsx"],p="/dashboard/applications/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/applications/page",pathname:"/dashboard/applications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1817:(e,a,t)=>{Promise.resolve().then(t.bind(t,6411))},6411:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>m});var s=t(326),r=t(7577),l=t(8069),n=t(1664),i=t(1190),o=t(306),d=t(8443),c=t(9752);let p=["draft","submitted","interview","offer","rejected","withdrawn"],u={draft:{label:"Draft",variant:"secondary"},submitted:{label:"Submitted",variant:"default"},interview:{label:"Interview",variant:"outline"},offer:{label:"Offer",variant:"success"},rejected:{label:"Rejected",variant:"destructive"},withdrawn:{label:"Withdrawn",variant:"secondary"}};function m(){let[e,a]=(0,r.useState)(null),[t,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)(""),[j,b]=(0,r.useState)(""),[g,v]=(0,r.useState)(1),[f,y]=(0,r.useState)(!1),[N,w]=(0,r.useState)(""),[P,_]=(0,r.useState)({jobTitle:"",company:"",platform:"",jobUrl:"",notes:""}),[C,A]=(0,r.useState)(!1),S=(0,r.useCallback)(async()=>{m(!0);try{let e=await l.rP.list({page:g,limit:20,search:x||void 0,status:j||void 0});a(e)}catch{}finally{m(!1)}},[g,x,j]),k=async()=>{if(P.jobTitle&&P.company&&P.jobUrl){A(!0);try{await l.rP.create({...P,status:"draft"}),_({jobTitle:"",company:"",platform:"",jobUrl:"",notes:""}),y(!1),w("Application added!"),S()}catch(e){w(`Error: ${e.message}`)}finally{A(!1)}}},D=async(e,t)=>{try{await l.rP.update(e,{status:t}),a(a=>a?{...a,items:a.items.map(a=>a.id===e?{...a,status:t}:a)}:a)}catch(e){w(`Error: ${e.message}`)}},z=async e=>{if(confirm("Delete this application?"))try{await l.rP.delete(e),S()}catch(e){w(`Error: ${e.message}`)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Applications"}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage all your job applications"})]}),s.jsx(n.z,{onClick:()=>y(!f),children:f?"Cancel":"+ Add Application"})]}),N&&(0,s.jsxs)("div",{className:`rounded-md p-3 text-sm ${N.startsWith("Error")?"bg-destructive/10 text-destructive":"bg-green-50 text-green-700"}`,children:[N,s.jsx("button",{className:"ml-2 underline",onClick:()=>w(""),children:"dismiss"})]}),f&&(0,s.jsxs)(c.Zb,{children:[s.jsx(c.Ol,{children:s.jsx(c.ll,{className:"text-lg",children:"New Application"})}),(0,s.jsxs)(c.aY,{className:"grid gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx(o._,{children:"Job Title *"}),s.jsx(i.I,{value:P.jobTitle,onChange:e=>_({...P,jobTitle:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx(o._,{children:"Company *"}),s.jsx(i.I,{value:P.company,onChange:e=>_({...P,company:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx(o._,{children:"Platform"}),s.jsx(i.I,{value:P.platform,onChange:e=>_({...P,platform:e.target.value}),placeholder:"greenhouse, lever, workday…"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx(o._,{children:"Job URL *"}),s.jsx(i.I,{value:P.jobUrl,onChange:e=>_({...P,jobUrl:e.target.value}),type:"url",placeholder:"https://…"})]}),(0,s.jsxs)("div",{className:"space-y-1 sm:col-span-2",children:[s.jsx(o._,{children:"Notes"}),s.jsx(i.I,{value:P.notes,onChange:e=>_({...P,notes:e.target.value})})]}),s.jsx("div",{className:"sm:col-span-2",children:s.jsx(n.z,{onClick:k,disabled:C,children:C?"Saving…":"Save Application"})})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[s.jsx(i.I,{placeholder:"Search by title or company…",value:x,onChange:e=>{h(e.target.value),v(1)},className:"w-64"}),(0,s.jsxs)("select",{value:j,onChange:e=>{b(e.target.value),v(1)},className:"rounded-md border border-input bg-background px-3 py-2 text-sm",children:[s.jsx("option",{value:"",children:"All Statuses"}),p.map(e=>s.jsx("option",{value:e,children:u[e]?.label||e},e))]})]}),t?s.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading…"}):e&&0!==e.items.length?(0,s.jsxs)("div",{className:"space-y-3",children:[e.items.map(e=>s.jsx(c.Zb,{children:(0,s.jsxs)(c.aY,{className:"flex items-center justify-between p-4",children:[(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"truncate font-semibold",children:e.jobTitle}),s.jsx(d.C,{variant:u[e.status]?.variant||"secondary",children:u[e.status]?.label||e.status})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.company,e.platform&&(0,s.jsxs)("span",{className:"ml-2 capitalize",children:["\xb7 ",e.platform]})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Added ",new Date(e.createdAt).toLocaleDateString(),e.appliedAt&&(0,s.jsxs)("span",{children:[" \xb7 Applied ",new Date(e.appliedAt).toLocaleDateString()]})]}),e.notes&&s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:e.notes})]}),(0,s.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[s.jsx("select",{value:e.status,onChange:a=>D(e.id,a.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs",children:p.map(e=>s.jsx("option",{value:e,children:u[e]?.label||e},e))}),s.jsx("a",{href:e.jobUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Open"}),s.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>z(e.id),children:"\uD83D\uDDD1"})]})]})},e.id)),e.totalPages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-4",children:[s.jsx(n.z,{variant:"outline",size:"sm",disabled:g<=1,onClick:()=>v(g-1),children:"Previous"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Page ",e.page," of ",e.totalPages]}),s.jsx(n.z,{variant:"outline",size:"sm",disabled:g>=e.totalPages,onClick:()=>v(g+1),children:"Next"})]})]}):s.jsx(c.Zb,{children:s.jsx(c.aY,{className:"py-12 text-center text-muted-foreground",children:"No applications found. Add one above or start applying with the extension!"})})]})}},9746:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/home/rohit/code/JobHunter/web/src/app/dashboard/applications/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[975,434,681,540],()=>t(5248));module.exports=s})();