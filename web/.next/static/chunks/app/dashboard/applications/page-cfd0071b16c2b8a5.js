(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{8209:function(e,t,a){Promise.resolve().then(a.bind(a,6576))},6576:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(7437),r=a(2265),n=a(1837),l=a(2381),i=a(279),c=a(6899),d=a(9174),o=a(9820);let u=["draft","submitted","interview","offer","rejected","withdrawn"],m={draft:{label:"Draft",variant:"secondary"},submitted:{label:"Submitted",variant:"default"},interview:{label:"Interview",variant:"outline"},offer:{label:"Offer",variant:"success"},rejected:{label:"Rejected",variant:"destructive"},withdrawn:{label:"Withdrawn",variant:"secondary"}};function x(){let[e,t]=(0,r.useState)(null),[a,x]=(0,r.useState)(!0),[p,f]=(0,r.useState)(""),[h,v]=(0,r.useState)(""),[j,b]=(0,r.useState)(1),[g,y]=(0,r.useState)(!1),[N,w]=(0,r.useState)(""),[C,k]=(0,r.useState)({jobTitle:"",company:"",platform:"",jobUrl:"",notes:""}),[S,A]=(0,r.useState)(!1),_=(0,r.useCallback)(async()=>{x(!0);try{let e=await n.rP.list({page:j,limit:20,search:p||void 0,status:h||void 0});t(e)}catch(e){}finally{x(!1)}},[j,p,h]);(0,r.useEffect)(()=>{_()},[_]);let D=async()=>{if(C.jobTitle&&C.company&&C.jobUrl){A(!0);try{await n.rP.create({...C,status:"draft"}),k({jobTitle:"",company:"",platform:"",jobUrl:"",notes:""}),y(!1),w("Application added!"),_()}catch(e){w("Error: ".concat(e.message))}finally{A(!1)}}},P=async(e,a)=>{try{await n.rP.update(e,{status:a}),t(t=>t?{...t,items:t.items.map(t=>t.id===e?{...t,status:a}:t)}:t)}catch(e){w("Error: ".concat(e.message))}},z=async e=>{if(confirm("Delete this application?"))try{await n.rP.delete(e),_()}catch(e){w("Error: ".concat(e.message))}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Applications"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Track and manage all your job applications"})]}),(0,s.jsx)(l.z,{onClick:()=>y(!g),children:g?"Cancel":"+ Add Application"})]}),N&&(0,s.jsxs)("div",{className:"rounded-md p-3 text-sm ".concat(N.startsWith("Error")?"bg-destructive/10 text-destructive":"bg-green-50 text-green-700"),children:[N,(0,s.jsx)("button",{className:"ml-2 underline",onClick:()=>w(""),children:"dismiss"})]}),g&&(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(o.ll,{className:"text-lg",children:"New Application"})}),(0,s.jsxs)(o.aY,{className:"grid gap-3 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(c._,{children:"Job Title *"}),(0,s.jsx)(i.I,{value:C.jobTitle,onChange:e=>k({...C,jobTitle:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(c._,{children:"Company *"}),(0,s.jsx)(i.I,{value:C.company,onChange:e=>k({...C,company:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(c._,{children:"Platform"}),(0,s.jsx)(i.I,{value:C.platform,onChange:e=>k({...C,platform:e.target.value}),placeholder:"greenhouse, lever, workday…"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(c._,{children:"Job URL *"}),(0,s.jsx)(i.I,{value:C.jobUrl,onChange:e=>k({...C,jobUrl:e.target.value}),type:"url",placeholder:"https://…"})]}),(0,s.jsxs)("div",{className:"space-y-1 sm:col-span-2",children:[(0,s.jsx)(c._,{children:"Notes"}),(0,s.jsx)(i.I,{value:C.notes,onChange:e=>k({...C,notes:e.target.value})})]}),(0,s.jsx)("div",{className:"sm:col-span-2",children:(0,s.jsx)(l.z,{onClick:D,disabled:S,children:S?"Saving…":"Save Application"})})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsx)(i.I,{placeholder:"Search by title or company…",value:p,onChange:e=>{f(e.target.value),b(1)},className:"w-64"}),(0,s.jsxs)("select",{value:h,onChange:e=>{v(e.target.value),b(1)},className:"rounded-md border border-input bg-background px-3 py-2 text-sm",children:[(0,s.jsx)("option",{value:"",children:"All Statuses"}),u.map(e=>{var t;return(0,s.jsx)("option",{value:e,children:(null===(t=m[e])||void 0===t?void 0:t.label)||e},e)})]})]}),a?(0,s.jsx)("div",{className:"animate-pulse text-muted-foreground",children:"Loading…"}):e&&0!==e.items.length?(0,s.jsxs)("div",{className:"space-y-3",children:[e.items.map(e=>{var t,a;return(0,s.jsx)(o.Zb,{children:(0,s.jsxs)(o.aY,{className:"flex items-center justify-between p-4",children:[(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"truncate font-semibold",children:e.jobTitle}),(0,s.jsx)(d.C,{variant:(null===(t=m[e.status])||void 0===t?void 0:t.variant)||"secondary",children:(null===(a=m[e.status])||void 0===a?void 0:a.label)||e.status})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.company,e.platform&&(0,s.jsxs)("span",{className:"ml-2 capitalize",children:["\xb7 ",e.platform]})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Added ",new Date(e.createdAt).toLocaleDateString(),e.appliedAt&&(0,s.jsxs)("span",{children:[" \xb7 Applied ",new Date(e.appliedAt).toLocaleDateString()]})]}),e.notes&&(0,s.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:e.notes})]}),(0,s.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[(0,s.jsx)("select",{value:e.status,onChange:t=>P(e.id,t.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs",children:u.map(e=>{var t;return(0,s.jsx)("option",{value:e,children:(null===(t=m[e])||void 0===t?void 0:t.label)||e},e)})}),(0,s.jsx)("a",{href:e.jobUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Open"}),(0,s.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>z(e.id),children:"\uD83D\uDDD1"})]})]})},e.id)}),e.totalPages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-4",children:[(0,s.jsx)(l.z,{variant:"outline",size:"sm",disabled:j<=1,onClick:()=>b(j-1),children:"Previous"}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Page ",e.page," of ",e.totalPages]}),(0,s.jsx)(l.z,{variant:"outline",size:"sm",disabled:j>=e.totalPages,onClick:()=>b(j+1),children:"Next"})]})]}):(0,s.jsx)(o.Zb,{children:(0,s.jsx)(o.aY,{className:"py-12 text-center text-muted-foreground",children:"No applications found. Add one above or start applying with the extension!"})})]})}},9174:function(e,t,a){"use strict";a.d(t,{C:function(){return n}});var s=a(7437);a(2265);var r=a(3448);function n(e){let{className:t,variant:a="default",...n}=e;return(0,s.jsx)("div",{className:(0,r.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-500/15 text-green-600 dark:text-green-400"}[a],t),...n})}},279:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var s=a(7437),r=a(2265),n=a(3448);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"}},function(e){e.O(0,[432,636,971,117,744],function(){return e(e.s=8209)}),_N_E=e.O()}]);