(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{7515:function(e,t,r){Promise.resolve().then(r.bind(r,3570))},3570:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var n=r(7437),o=r(2265),s=r(9376),i=r(5389),a=r(7648),d=r(2513),c=r(3448),l=r(2381),u=r(5466),f=r(2369),m=r(8736),h=r(2023),g=r(8728),p=r(8896),x=r(5929),b=r(7226),v=r(9897),y=r(7692);let N=[{label:"Overview",href:"/dashboard",icon:u.Z},{label:"Profile",href:"/dashboard/profile",icon:f.Z},{label:"Applications",href:"/dashboard/applications",icon:m.Z},{label:"AI Assistant",href:"/dashboard/ai",icon:h.Z},{label:"Settings",href:"/dashboard/settings",icon:g.Z}];function j(){var e,t;let r=(0,s.usePathname)(),{user:o,logout:u}=(0,i.a)(),{theme:f,setTheme:m}=(0,d.F)();return(0,n.jsxs)("aside",{className:"flex w-64 flex-col border-r border-border/50 bg-card/50 backdrop-blur-sm",children:[(0,n.jsxs)("div",{className:"flex h-16 items-center gap-3 border-b border-border/50 px-6",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary/10",children:(0,n.jsx)(p.Z,{className:"h-5 w-5 text-primary"})}),(0,n.jsx)("span",{className:"text-lg font-bold gradient-text-blue",children:"JobHunter"})]}),(0,n.jsx)("nav",{className:"flex-1 space-y-1 p-3",children:N.map(e=>{let t=e.icon,o=r===e.href||"/dashboard"!==e.href&&r.startsWith(e.href);return(0,n.jsxs)(a.default,{href:e.href,className:(0,c.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200",o?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[(0,n.jsx)(t,{className:(0,c.cn)("h-4 w-4",o&&"text-primary")}),e.label]},e.href)})}),(0,n.jsx)("div",{className:"px-3 pb-2",children:(0,n.jsxs)("div",{className:"flex items-center gap-1 rounded-lg bg-muted/50 p-1",children:[(0,n.jsxs)("button",{onClick:()=>m("light"),className:(0,c.cn)("flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-medium transition-all","light"===f?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[(0,n.jsx)(x.Z,{className:"h-3.5 w-3.5"}),"Light"]}),(0,n.jsxs)("button",{onClick:()=>m("dark"),className:(0,c.cn)("flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-medium transition-all","dark"===f?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[(0,n.jsx)(b.Z,{className:"h-3.5 w-3.5"}),"Dark"]}),(0,n.jsxs)("button",{onClick:()=>m("system"),className:(0,c.cn)("flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-medium transition-all","system"===f?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[(0,n.jsx)(v.Z,{className:"h-3.5 w-3.5"}),"Auto"]})]})}),(0,n.jsxs)("div",{className:"border-t border-border/50 p-3",children:[(0,n.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-xs font-bold text-primary",children:(null==o?void 0:null===(t=o.email)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.toUpperCase())||"?"}),(0,n.jsx)("span",{className:"truncate text-sm text-muted-foreground",children:null==o?void 0:o.email})]}),(0,n.jsxs)(l.z,{variant:"ghost",size:"sm",className:"w-full justify-start gap-2 text-muted-foreground hover:text-foreground",onClick:u,children:[(0,n.jsx)(y.Z,{className:"h-4 w-4"}),"Sign Out"]})]})]})}function w(e){let{children:t}=e,{user:r,loading:a}=(0,i.a)(),d=(0,s.useRouter)();return((0,o.useEffect)(()=>{a||r||d.replace("/login")},[r,a,d]),a)?(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsx)("div",{className:"animate-pulse text-lg text-muted-foreground",children:"Loading..."})}):r?(0,n.jsxs)("div",{className:"flex min-h-screen bg-background",children:[(0,n.jsx)(j,{}),(0,n.jsx)("main",{className:"flex-1 overflow-y-auto p-8",children:t})]}):null}},2513:function(e,t,r){"use strict";r.d(t,{F:function(){return a},ThemeProvider:function(){return i}});var n=r(7437),o=r(2265);let s=(0,o.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,o.useState)("dark"),[a,d]=(0,o.useState)("dark");return(0,o.useEffect)(()=>{let e=localStorage.getItem("jobhunter-theme");e&&i(e)},[]),(0,o.useEffect)(()=>{let e=document.documentElement,t=t=>{t?e.classList.add("dark"):e.classList.remove("dark"),d(t?"dark":"light")};if("system"===r){let e=window.matchMedia("(prefers-color-scheme: dark)");t(e.matches);let r=e=>t(e.matches);return e.addEventListener("change",r),()=>e.removeEventListener("change",r)}t("dark"===r)},[r]),(0,n.jsx)(s.Provider,{value:{theme:r,setTheme:e=>{i(e),localStorage.setItem("jobhunter-theme",e)},resolvedTheme:a},children:t})}function a(){let e=(0,o.useContext)(s);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),o=r(2265),s=r(5293),i=r(535),a=r(3448);let d=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:r,variant:o,size:i,asChild:c=!1,...l}=e,u=c?s.g7:"button";return(0,n.jsx)(u,{className:(0,a.cn)(d({variant:o,size:i,className:r})),ref:t,...l})});c.displayName="Button"},1837:function(e,t,r){"use strict";r.d(t,{I8:function(){return c},LP:function(){return i},N5:function(){return l},ai:function(){return f},o4:function(){return s},rP:function(){return u}});let n=r(257).env.NEXT_PUBLIC_API_URL||"http://localhost:4000/api",o=null;function s(e){o=e,e?localStorage.setItem("jh_token",e):localStorage.removeItem("jh_token")}function i(){return o||(o=localStorage.getItem("jh_token"))}class a extends Error{constructor(e,t,r){super(r),this.status=e,this.code=t,this.name="ApiError"}}async function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{params:r,...o}=t,s="".concat(n).concat(e);if(r){let e=new URLSearchParams;for(let[t,n]of Object.entries(r))void 0!==n&&e.set(t,String(n));let t=e.toString();t&&(s+="?".concat(t))}let d={"Content-Type":"application/json",...o.headers},c=i();c&&(d.Authorization="Bearer ".concat(c));let l=await fetch(s,{...o,headers:d});if(!l.ok){var u,f;let e=await l.json().catch(()=>({error:{message:l.statusText,code:"UNKNOWN"}}));throw new a(l.status,(null===(u=e.error)||void 0===u?void 0:u.code)||"UNKNOWN",(null===(f=e.error)||void 0===f?void 0:f.message)||l.statusText)}if(204!==l.status)return l.json()}let c={register:(e,t)=>d("/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t})}),login:(e,t)=>d("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})}),me:()=>d("/auth/me")},l={get:()=>d("/profile"),update:e=>d("/profile",{method:"PUT",body:JSON.stringify(e)}),addExperience:e=>d("/profile/experience",{method:"POST",body:JSON.stringify(e)}),updateExperience:(e,t)=>d("/profile/experience/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteExperience:e=>d("/profile/experience/".concat(e),{method:"DELETE"}),addEducation:e=>d("/profile/education",{method:"POST",body:JSON.stringify(e)}),updateEducation:(e,t)=>d("/profile/education/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteEducation:e=>d("/profile/education/".concat(e),{method:"DELETE"}),setSkills:e=>d("/profile/skills",{method:"PUT",body:JSON.stringify({skills:e})}),addCustomAnswer:(e,t)=>d("/profile/custom-answers",{method:"POST",body:JSON.stringify({question:e,answer:t})}),updateCustomAnswer:(e,t)=>d("/profile/custom-answers/".concat(e),{method:"PUT",body:JSON.stringify(t)}),deleteCustomAnswer:e=>d("/profile/custom-answers/".concat(e),{method:"DELETE"}),updatePreferences:e=>d("/profile/preferences",{method:"PUT",body:JSON.stringify(e)}),uploadResume:async e=>{let t=new FormData;t.append("resume",e);let r=i(),o=await fetch("".concat(n,"/profile/resume/upload"),{method:"POST",headers:r?{Authorization:"Bearer ".concat(r)}:{},body:t});if(!o.ok){var s;let e=await o.json().catch(()=>({error:{message:o.statusText}}));throw new a(o.status,"UPLOAD_FAILED",(null===(s=e.error)||void 0===s?void 0:s.message)||"Upload failed")}return o.json()}},u={list:e=>d("/applications",{params:e}),create:e=>d("/applications",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>d("/applications/".concat(e),{method:"PUT",body:JSON.stringify(t)}),delete:e=>d("/applications/".concat(e),{method:"DELETE"}),stats:()=>d("/applications/stats")},f={generate:e=>d("/ai/generate",{method:"POST",body:JSON.stringify(e)}),coverLetter:e=>d("/ai/cover-letter",{method:"POST",body:JSON.stringify({jobDescription:e})}),answer:(e,t)=>d("/ai/answer",{method:"POST",body:JSON.stringify({question:e,context:t})}),resumeOptimize:e=>d("/ai/resume-optimize",{method:"POST",body:JSON.stringify({jobDescription:e})}),getConfig:()=>d("/ai/config"),updateConfig:e=>d("/ai/config",{method:"PUT",body:JSON.stringify(e)}),testConnection:e=>d("/ai/test-connection",{method:"POST",body:JSON.stringify({provider:e})})}},5389:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return a},a:function(){return d}});var n=r(7437),o=r(2265),s=r(1837);let i=(0,o.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,o.useState)(null),[d,c]=(0,o.useState)(!0);(0,o.useEffect)(()=>{(0,s.LP)()?s.I8.me().then(a).catch(()=>{(0,s.o4)(null)}).finally(()=>c(!1)):c(!1)},[]);let l=async(e,t)=>{let r=await s.I8.login(e,t);(0,s.o4)(r.token),a(r.user)},u=async(e,t)=>{let r=await s.I8.register(e,t);(0,s.o4)(r.token),a(r.user)};return(0,n.jsx)(i.Provider,{value:{user:r,loading:d,login:l,register:u,logout:()=>{(0,s.o4)(null),a(null)}},children:t})}function d(){let e=(0,o.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var n=r(1994),o=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)((0,n.W)(t))}}},function(e){e.O(0,[972,432,554,971,117,744],function(){return e(e.s=7515)}),_N_E=e.O()}]);