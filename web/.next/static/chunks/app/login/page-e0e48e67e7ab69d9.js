(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{5714:function(e,t,n){Promise.resolve().then(n.bind(n,8991))},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return r.a}});var s=n(2972),r=n.n(s)},9376:function(e,t,n){"use strict";var s=n(5475);n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}})},8991:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var s=n(7437),r=n(2265),a=n(9376),u=n(7648),i=n(5389),l=n(8927),o=n(279),c=n(6899),d=n(9820);function f(){let{login:e}=(0,i.a)(),t=(0,a.useRouter)(),[n,f]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[x,p]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),b=async s=>{s.preventDefault(),p(""),v(!0);try{await e(n,m),t.push("/dashboard")}catch(e){p(e.message||"Login failed")}finally{v(!1)}};return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-muted/30 px-4",children:(0,s.jsxs)(d.Zb,{className:"w-full max-w-md",children:[(0,s.jsxs)(d.Ol,{className:"text-center",children:[(0,s.jsx)(d.ll,{className:"text-3xl font-bold",children:"\uD83C\uDFAF JobHunter"}),(0,s.jsx)(d.SZ,{children:"Sign in to manage your job applications"})]}),(0,s.jsxs)("form",{onSubmit:b,children:[(0,s.jsxs)(d.aY,{className:"space-y-4",children:[x&&(0,s.jsx)("div",{className:"rounded-md bg-destructive/10 p-3 text-sm text-destructive",children:x}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c._,{htmlFor:"email",children:"Email"}),(0,s.jsx)(o.I,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:e=>f(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c._,{htmlFor:"password",children:"Password"}),(0,s.jsx)(o.I,{id:"password",type:"password",placeholder:"••••••••",value:m,onChange:e=>h(e.target.value),required:!0})]})]}),(0,s.jsxs)(d.eW,{className:"flex flex-col gap-3",children:[(0,s.jsx)(l.z,{type:"submit",className:"w-full",disabled:g,children:g?"Signing in…":"Sign In"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,s.jsx)(u.default,{href:"/register",className:"text-primary underline-offset-4 hover:underline",children:"Register"})]})]})]})]})})}},279:function(e,t,n){"use strict";n.d(t,{I:function(){return u}});var s=n(7437),r=n(2265),a=n(3448);let u=r.forwardRef((e,t)=>{let{className:n,type:r,...u}=e;return(0,s.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...u})});u.displayName="Input"},5389:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return i},a:function(){return l}});var s=n(7437),r=n(2265),a=n(1837);let u=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[n,i]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(0,a.LP)()?a.I8.me().then(i).catch(()=>{(0,a.o4)(null)}).finally(()=>o(!1)):o(!1)},[]);let c=async(e,t)=>{let n=await a.I8.login(e,t);(0,a.o4)(n.token),i(n.user)},d=async(e,t)=>{let n=await a.I8.register(e,t);(0,a.o4)(n.token),i(n.user)};return(0,s.jsx)(u.Provider,{value:{user:n,loading:l,login:c,register:d,logout:()=>{(0,a.o4)(null),i(null)}},children:t})}function l(){let e=(0,r.useContext)(u);if(!e)throw Error("useAuth must be used within AuthProvider");return e}}},function(e){e.O(0,[972,432,229,971,117,744],function(){return e(e.s=5714)}),_N_E=e.O()}]);